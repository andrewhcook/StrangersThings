{"ast":null,"code":"import _regeneratorRuntime from\"/home/ahc/Bootcamp2022UBUNTU/course_work/NewStrangersThings/StrangersThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ahc/Bootcamp2022UBUNTU/course_work/NewStrangersThings/StrangersThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/ahc/Bootcamp2022UBUNTU/course_work/NewStrangersThings/StrangersThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{registerUser}from\"../api/Requests\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(props){var setToken=props.setToken,reloadItem=props.reloadItem,setReloadItem=props.setReloadItem;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var onSubmitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$registerUser,error,token,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://console.log(\"onSubmitHandler() called\");\nevent.preventDefault();_context.next=3;return registerUser(username,password);case 3:_yield$registerUser=_context.sent;error=_yield$registerUser.error;token=_yield$registerUser.token;message=_yield$registerUser.message;setToken(token);window.localStorage.setItem('token',token);// console.log(\"reload item pre in onSubmitHandler() in Register\", reloadItem);\nsetReloadItem(!reloadItem);//console.log(\"reload item post in onSubmitHandler() in Register\", reloadItem);\ncase 10:case\"end\":return _context.stop();}}},_callee);}));return function onSubmitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"SignUp Form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,placeholder:\"username\",required:true,onChange:function onChange(event){setUsername(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,placeholder:\"password\",minLength:\"8\",required:true,onChange:function onChange(event){setPassword(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-form\",type:\"submit\",children:\"Submit\"})]});};export default Register;","map":{"version":3,"names":["React","useState","registerUser","Register","props","setToken","reloadItem","setReloadItem","username","setUsername","password","setPassword","onSubmitHandler","event","preventDefault","error","token","message","window","localStorage","setItem","target","value"],"sources":["/home/ahc/Bootcamp2022UBUNTU/course_work/NewStrangersThings/StrangersThings/src/Components/Register.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { registerUser} from \"../api/Requests\";\n\n\n\nconst Register = (props) => {\n    const {setToken, reloadItem, setReloadItem} = props;\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const onSubmitHandler = async (event) => {\n        //console.log(\"onSubmitHandler() called\");\n        event.preventDefault();\n        const {error, token, message} = await registerUser(username, password);\n        setToken(token);\n        window.localStorage.setItem('token', token);\n       // console.log(\"reload item pre in onSubmitHandler() in Register\", reloadItem);\n        setReloadItem(!reloadItem);\n        //console.log(\"reload item post in onSubmitHandler() in Register\", reloadItem);\n    }\n\n\n    return (<form className=\"login-form\" onSubmit={onSubmitHandler}>\n        <h1>SignUp Form</h1>\n        <div className=\"field\">\n            <label>Username</label>\n            <input\n            type = \"text\"\n            value = {username}\n            placeholder = \"username\"\n            required\n            onChange = {(event) => {setUsername(event.target.value)}}\n            />\n            \n        </div>\n        <div className=\"field\">\n            <label>Password</label>\n            <input\n            type = \"password\"\n            value = {password}\n            placeholder = \"password\"\n            minLength = \"8\"\n            required\n            onChange={(event) => {setPassword(event.target.value)}}\n            />\n        </div>\n        <button className=\"submit-form\" type = \"submit\">Submit</button>\n    </form>);\n}\n\nexport default Register"],"mappings":"mfAAA,MAAOA,MAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAASC,YAAY,KAAO,iBAAiB,CAAC,wFAI9C,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,KAAK,CAAK,CACxB,GAAOC,SAAQ,CAA+BD,KAAK,CAA5CC,QAAQ,CAAEC,UAAU,CAAmBF,KAAK,CAAlCE,UAAU,CAAEC,aAAa,CAAIH,KAAK,CAAtBG,aAAa,CAC1C,cAAgCN,QAAQ,CAAC,EAAE,CAAC,wCAArCO,QAAQ,eAAEC,WAAW,eAC5B,eAAgCR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,gBAAe,4FAAG,iBAAOC,KAAK,gKAChC;AACAA,KAAK,CAACC,cAAc,EAAE,CAAC,sBACeZ,aAAY,CAACM,QAAQ,CAAEE,QAAQ,CAAC,0CAA/DK,KAAK,qBAALA,KAAK,CAAEC,KAAK,qBAALA,KAAK,CAAEC,OAAO,qBAAPA,OAAO,CAC5BZ,QAAQ,CAACW,KAAK,CAAC,CACfE,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEJ,KAAK,CAAC,CAC5C;AACCT,aAAa,CAAC,CAACD,UAAU,CAAC,CAC1B;AAAA,uDACH,kBATKM,gBAAe,4CASpB,CAGD,mBAAQ,cAAM,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAEA,eAAgB,wBAC3D,mCAAoB,cACpB,aAAK,SAAS,CAAC,OAAO,wBAClB,mCAAuB,cACvB,cACA,IAAI,CAAG,MAAM,CACb,KAAK,CAAIJ,QAAS,CAClB,WAAW,CAAG,UAAU,CACxB,QAAQ,MACR,QAAQ,CAAI,kBAACK,KAAK,CAAK,CAACJ,WAAW,CAACI,KAAK,CAACQ,MAAM,CAACC,KAAK,CAAC,EAAE,EACvD,GAEA,cACN,aAAK,SAAS,CAAC,OAAO,wBAClB,mCAAuB,cACvB,cACA,IAAI,CAAG,UAAU,CACjB,KAAK,CAAIZ,QAAS,CAClB,WAAW,CAAG,UAAU,CACxB,SAAS,CAAG,GAAG,CACf,QAAQ,MACR,QAAQ,CAAE,kBAACG,KAAK,CAAK,CAACF,WAAW,CAACE,KAAK,CAACQ,MAAM,CAACC,KAAK,CAAC,EAAE,EACrD,GACA,cACN,eAAQ,SAAS,CAAC,aAAa,CAAC,IAAI,CAAG,QAAQ,oBAAgB,GAC5D,CACX,CAAC,CAED,cAAenB,SAAQ"},"metadata":{},"sourceType":"module"}