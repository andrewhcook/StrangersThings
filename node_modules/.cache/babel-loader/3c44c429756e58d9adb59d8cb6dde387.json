{"ast":null,"code":"import _regeneratorRuntime from\"/home/ahc/Bootcamp2022UBUNTU/course_work/NewStrangersThings/StrangersThings/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ahc/Bootcamp2022UBUNTU/course_work/NewStrangersThings/StrangersThings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/ahc/Bootcamp2022UBUNTU/course_work/NewStrangersThings/StrangersThings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{CreatePost}from\"../api/Requests\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePostForm=function CreatePostForm(props){var token=props.token,setPosts=props.setPosts,posts=props.posts,reloadItem=props.reloadItem,setReloadItem=props.setReloadItem;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),postSubmission=_useState2[0],setPostSubmission=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];var _useState5=useState(\"false\"),_useState6=_slicedToArray(_useState5,2),willDeliver=_useState6[0],setWillDeliver=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),price=_useState8[0],setPrice=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),description=_useState10[0],setDescription=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),title=_useState12[0],setTitle=_useState12[1];useEffect(function(){// console.log(\"title\", title);\nsetPostSubmission({title:title,location:location,willDeliver:willDeliver,price:price,description:description});},[location,willDeliver,price,description,title]);var onSubmitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$CreatePost,error,post,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// event.preventDefault();\nevent.preventDefault();// console.log(\"onSubmitHandler() called in CreatePostForm\");\n// console.log(\"postSubmission in onSubmitHandler() in CreatePostForm before CreatePost() call\", postSubmission);\n_context.next=3;return CreatePost(token,postSubmission);case 3:_yield$CreatePost=_context.sent;error=_yield$CreatePost.error;post=_yield$CreatePost.post;message=_yield$CreatePost.message;// console.log(\"new post\", post);\nsetReloadItem(!reloadItem);/*  const new_posts_value = posts.push(post);\n       setPosts(new_posts_value);   */case 8:case\"end\":return _context.stop();}}},_callee);}));return function onSubmitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"create-post-form\",onSubmit:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:onSubmitHandler(event);case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Post Form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",label:\"Title\",placeholder:\"Title\",value:title,required:true,onChange:function onChange(event){setTitle(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",label:\"Location\",value:location,placeholder:\"Location\",required:true,onChange:function onChange(event){setLocation(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Will Deliver: \"}),\"Yes\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",label:\"Will Deliver\",onChange:function onChange(){setWillDeliver(true);}}),\"No\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",label:\"Can't or Won't Deliver\",onChange:function onChange(){setWillDeliver(false);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:price,placeholder:\"Price\",required:true,onChange:function onChange(event){setPrice(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,placeholder:\"Description\",required:true,onChange:function onChange(event){setDescription(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-form\",type:\"submit\",value:\"Submit\",children:\"Submit\"})]});};export default CreatePostForm;","map":{"version":3,"names":["useEffect","useState","CreatePost","CreatePostForm","props","token","setPosts","posts","reloadItem","setReloadItem","postSubmission","setPostSubmission","location","setLocation","willDeliver","setWillDeliver","price","setPrice","description","setDescription","title","setTitle","onSubmitHandler","event","preventDefault","error","post","message","target","value"],"sources":["/home/ahc/Bootcamp2022UBUNTU/course_work/NewStrangersThings/StrangersThings/src/Components/CreatePostForm.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { CreatePost } from \"../api/Requests\";\n\nconst CreatePostForm = (props) => {\n    const {token, setPosts, posts, reloadItem, setReloadItem} = props\n    const [postSubmission, setPostSubmission] = useState({});\n    const [location, setLocation] = useState(\"\");\n    const [willDeliver, setWillDeliver] = useState(\"false\");\n    const [price, setPrice] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const[title, setTitle] = useState(\"\");\n    useEffect(()=> {\n       // console.log(\"title\", title);\n        setPostSubmission({title: title, location:location,willDeliver:willDeliver, price: price, description:description}); \n    },[location, willDeliver,price,description,title])\n    const onSubmitHandler = async (event) => {\n       // event.preventDefault();\n       event.preventDefault();\n      // console.log(\"onSubmitHandler() called in CreatePostForm\");\n       \n      // console.log(\"postSubmission in onSubmitHandler() in CreatePostForm before CreatePost() call\", postSubmission);\n       const {error, post, message} = await CreatePost(token,postSubmission);\n      // console.log(\"new post\", post);\n       setReloadItem(!reloadItem);\n      /*  const new_posts_value = posts.push(post);\n       setPosts(new_posts_value);   */\n    }\n\n\n    return (<form className=\"create-post-form\" onSubmit={ async (event) => {\n       \n        onSubmitHandler(event);\n        }}>\n        <h1>Create Post Form</h1>\n\n        <div className=\"field\">\n            <label>Title</label>\n            <input\n            type = \"text\"\n            label = \"Title\"\n            placeholder=\"Title\"\n            value = {title}\n            required\n            onChange = { (event) => {\n                setTitle(event.target.value);}}\n            />\n            \n        </div>\n        \n        <div className=\"field\">\n            <label>Location</label>\n            <input\n            type = \"text\"\n            label = \"Location\"\n            value = {location}\n            placeholder=\"Location\"\n            required\n            onChange = {(event) => {setLocation(event.target.value)}}\n            />\n            \n        </div>\n        <div className=\"field\">\n            <label>Will Deliver: </label>\n            Yes\n            <input\n            type = \"checkbox\"\n            label = \"Will Deliver\"\n            onChange = {() => {setWillDeliver(true)}}\n            /> \n            No\n            <input\n            type = \"checkbox\"\n            label = \"Can't or Won't Deliver\"\n            onChange = {() => {setWillDeliver(false)}}\n            /> \n            \n        </div>\n        <div className=\"field\">\n            <label>Price</label>\n            <input\n            type = \"text\"\n            value = {price}\n            placeholder = \"Price\"\n            required\n            onChange = {(event) => {setPrice(event.target.value)}}\n            />\n            \n        </div>\n        <div className=\"field\">\n            <label>Description</label>\n            <input\n            type = \"text\"\n            value = {description}\n            placeholder = \"Description\"\n            required\n            onChange = {(event) => {setDescription(event.target.value)}}\n            />\n            \n        </div>\n        <button className=\"submit-form\" type = \"submit\" value = \"Submit\">Submit</button>\n    </form>);\n\n}\n\nexport default CreatePostForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}